[gd_scene load_steps=23 format=2]

[ext_resource path="res://scenes/checkpoint.tscn" type="PackedScene" id=1]
[ext_resource path="res://addons/zylann.hterrain/hterrain_texture_set.gd" type="Script" id=2]
[ext_resource path="res://scenes/snowman.tscn" type="PackedScene" id=3]
[ext_resource path="res://scenes/tree1.tscn" type="PackedScene" id=4]
[ext_resource path="res://scenes/rock1.tscn" type="PackedScene" id=5]
[ext_resource path="res://textures/grass.jpg" type="Texture" id=6]
[ext_resource path="res://addons/zylann.hterrain/hterrain.gd" type="Script" id=7]
[ext_resource path="res://scenes/pickup.tscn" type="PackedScene" id=8]
[ext_resource path="res://scenes/pickups.tscn" type="PackedScene" id=9]
[ext_resource path="res://scenes/barrel.tscn" type="PackedScene" id=10]
[ext_resource path="res://scenes/cone.tscn" type="PackedScene" id=11]
[ext_resource path="res://textures/aerial_beach_01_diff_1k.jpg" type="Texture" id=12]
[ext_resource path="res://hterrain_data/data.hterrain" type="Resource" id=13]
[ext_resource path="res://material/sand.tres" type="Material" id=14]
[ext_resource path="res://scenes/arrow_sign.tscn" type="PackedScene" id=15]
[ext_resource path="res://scenes/kaktus.tscn" type="PackedScene" id=16]
[ext_resource path="res://scenes/tree_deserd.tscn" type="PackedScene" id=17]

[sub_resource type="GDScript" id=1]
script/source = "extends StaticBody

func _ready():
	$area.connect(\"body_entered\", self, \"_on_area_body_entered\")

func _on_area_body_entered(body):
	if body.owner == null or not body.owner is Character:
		return
		
	if body.owner.is_in_group(\"Characters\"):
		$body.visible = false
		$collision_shape.disabled = true
		$area/collision_shape.disabled = true
		$particles.emitting = true
		$timer.start()


func _on_timer_timeout():
	queue_free()
"

[sub_resource type="Curve3D" id=2]
_data = {
"points": PoolVector3Array( 0, 0, 0, 0, 0, 0, 0.221375, 0, 0.0325732, 0, 0, 0, 0, 0, 0, -1.46994, 0, -65.929, 0, 0, 0, 0, 0, 0, 50.1423, 0, -164.338, 0, 0, 0, 0, 0, 0, 149.367, 0, -202.111, 0, 0, 0, 0, 0, 0, 211.945, 0, -151.372, 0, 0, 0, 0, 0, 0, 185.448, 0, -72.4433, 0, 0, 0, 0, 0, 0, 70.993, 0, -8.72801, 0, 0, 0, 0, 0, 0, 43.7222, 0, 63.4779, 0, 0, 0, 0, 0, 0, 91.4219, 0, 102.657, 0, 0, 0, 0, 0, 0, 132.014, 0, 182.149, 0, 0, 0, 0, 0, 0, -5.32603, 0, 204.973, 0, 0, 0, 0, 0, 0, -95.0338, 0, 186.425, 0, 0, 0, 0, 0, 0, -173.962, 0, 196.009, 0, 0, 0, 0, 0, 0, -208.916, 0, 86.0735, 0, 0, 0, 0, 0, 0, -186.362, 0, -124.246, 0, 0, 0, 0, 0, 0, -114.199, 0, -178.368, 0, 0, 0, 0, 0, 0, -55.5666, 0, -151.307, 0, 0, 0, 0, 0, 0, -121.528, 0, -59.4119, 0, 0, 0, 0, 0, 0, -109.689, 0, 15.57, 0, 0, 0, 0, 0, 0, -121.528, 0, 100.136, 0, 0, 0, 0, 0, 0, -38.0896, 0, 50.524, 0, 0, 0, 0, 0, 0, -7.08204, 0, 1.47568 ),
"tilts": PoolRealArray( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 )
}

[sub_resource type="BoxShape" id=3]
extents = Vector3( 254.794, 1, 255.262 )

[sub_resource type="PlaneMesh" id=4]

[sub_resource type="Resource" id=5]
script = ExtResource( 2 )
mode = 0
textures = [ [ ExtResource( 12 ), ExtResource( 6 ) ], [ null, null ] ]

[node name="map_snow" type="Spatial"]

[node name="lights" type="Node" parent="."]

[node name="sun" type="DirectionalLight" parent="lights"]
transform = Transform( 0.866025, -0.286788, -0.409576, 0, -0.819152, 0.573577, -0.5, -0.496732, -0.709406, 0, 76, 0 )
light_color = Color( 0.984314, 0.937255, 0.713726, 1 )

[node name="trees" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -50, 0 )

[node name="tree1" parent="trees" instance=ExtResource( 4 )]

[node name="kaktus" parent="trees" instance=ExtResource( 16 )]

[node name="tree_deserd" parent="trees" instance=ExtResource( 17 )]

[node name="rocks" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -50, 0 )

[node name="rock1" parent="rocks" instance=ExtResource( 5 )]

[node name="checkpoints" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -50, 0 )

[node name="checkpoint_1" parent="checkpoints" instance=ExtResource( 1 )]

[node name="pickups" parent="." instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -50, 0 )

[node name="pickup" parent="pickups" instance=ExtResource( 8 )]

[node name="obstacles" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -50, 0 )

[node name="barrel" parent="obstacles" instance=ExtResource( 10 )]

[node name="cone" parent="obstacles" instance=ExtResource( 11 )]
script = SubResource( 1 )

[node name="snowman" parent="obstacles" instance=ExtResource( 3 )]

[node name="arrow_sign" parent="obstacles" instance=ExtResource( 15 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 52.3441, 0 )

[node name="road_path" type="Path" parent="."]
curve = SubResource( 2 )

[node name="road" type="StaticBody" parent="."]

[node name="collision_shape" type="CollisionShape" parent="road"]
shape = SubResource( 3 )

[node name="mesh_instance" type="MeshInstance" parent="road"]
transform = Transform( 256, 0, 0, 0, 1, 0, 0, 0, 256, 0, 0, 0 )
visible = false
mesh = SubResource( 4 )
material/0 = ExtResource( 14 )

[node name="terrain_wrap" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -256, 0, -256 )

[node name="HTerrain" type="Spatial" parent="terrain_wrap"]
script = ExtResource( 7 )
_terrain_data = ExtResource( 13 )
chunk_size = 32
collision_enabled = true
collision_layer = 1
collision_mask = 1
shader_type = "Classic4Lite"
custom_shader = null
custom_globalmap_shader = null
texture_set = SubResource( 5 )
shader_params/u_ground_uv_scale = 20
shader_params/u_depth_blending = true
shader_params/u_triplanar = false
shader_params/u_tile_reduction = Plane( 0, 0, 0, 0 )
